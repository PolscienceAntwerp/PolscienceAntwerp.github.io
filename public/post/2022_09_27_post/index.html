<!DOCTYPE html><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.6.0 for Hugo" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Flempar" />

  
  
  
    
  
  <meta name="description" content="MP&#39;s at work." />

  
  <link rel="alternate" hreflang="en-us" href="/post/2022_09_27_post/" />

  
  
  
    <meta name="theme-color" content="#2962ff" />
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.c7b8d9abd591ba2253ea42747e3ac3f5.css" media="print" onload="this.media='all'">

  
  
  
    
    

    
    
    
    
      
      
    
    
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.4516ab9e639ca2670bd32efb65e57f6d.css" />

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  



  


  


  




  
  
  

  
  

  
  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  
  <link rel="icon" type="image/png" href="/media/icon_hueefb29eb453fbc316b7c58d7055b5de9_54549_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hueefb29eb453fbc316b7c58d7055b5de9_54549_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="/post/2022_09_27_post/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
  <meta property="og:site_name" content="FLEMPAR" />
  <meta property="og:url" content="/post/2022_09_27_post/" />
  <meta property="og:title" content="flempar_parliamentary work | FLEMPAR" />
  <meta property="og:description" content="MP&#39;s at work." /><meta property="og:image" content="/post/2022_09_27_post/featured.jpg" />
    <meta property="twitter:image" content="/post/2022_09_27_post/featured.jpg" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2022-09-25T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2022-09-25T00:00:00&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/2022_09_27_post/"
  },
  "headline": "flempar_parliamentary work",
  
  "image": [
    "/post/2022_09_27_post/featured.jpg"
  ],
  
  "datePublished": "2022-09-25T00:00:00Z",
  "dateModified": "2022-09-25T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Evelien Willems and Frederik Heylen"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "FLEMPAR",
    "logo": {
      "@type": "ImageObject",
      "url": "/media/icon_hueefb29eb453fbc316b7c58d7055b5de9_54549_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "MP's at work."
}
</script>

  

  

  


  <title>flempar_parliamentary work | FLEMPAR</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll"  data-target="#TableOfContents" class="page-wrapper   no-navbar" data-wc-page-id="1690c3157057eb4627a4b345b18c3b4a" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.598336a6fd3e50d91d0873041351852d.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    


  </div>

  <div class="page-body">
    
    
    
      
      
      <div class="article-container py-1" style="background: initial">
        
  <nav class="d-none d-md-flex" aria-label="breadcrumb">
    <ol class="breadcrumb">
      
  
    
  
    
  

    <li class="breadcrumb-item">
      <a href="/">
        
          Home
        
      </a>
    </li>
  

    <li class="breadcrumb-item">
      <a href="/post/">
        
          Posts
        
      </a>
    </li>
  

      <li class="breadcrumb-item active" aria-current="page">
        flempar_parliamentary work
      </li>
    </ol>
  </nav>




      </div>
    

    <article class="article">

  





















  
  


<div class="article-container pt-3">
  <h1>flempar_parliamentary work</h1>

  

  


<div class="article-metadata">

  
  
  
  
  <div>
    

  <span >
      Evelien Willems and Frederik Heylen</span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    Sep 25, 2022
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    9 min read
  </span>
  

  
  
  
  

  
  

</div>

  





</div>


<div class="article-header container featured-image-wrapper mt-4 mb-4" style="max-width: 1200px; max-height: 900px;">
  <div style="position: relative">
    <img src="/post/2022_09_27_post/featured_hub2654b203731358ba103fd420040a6b8_2600364_1200x2500_fit_q75_h2_lanczos.webp" width="1200" height="900" alt="" class="featured-image">
    
  </div>
</div>



  <div class="article-container">

    <div class="article-style">
      <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">knitr::opts_chunk$set(echo = TRUE)
</span></span></code></pre></div><p>In this post we delve into the <code>get_work()</code> function and the  parameters you can specify to query for more specific information.</p>
<h3 id="example-1---basic-functionalities">Example 1 - Basic functionalities</h3>
<p>First, we will query for all debates on current affairs (one possible type of parliamentary work - and the default option) organized in January-August 2022. We use the <code>get_work()</code> function. Indeed, in contrast to the <code>get_mp</code> function, you <em>always</em> need to specify a date range using the following arguments:</p>
<ul>
<li>date_range_from: the start date YYYY-MM-DD</li>
<li>date_range_to: the end date YYYY-MM-DD</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">work_b &lt;- get_work(date_range_from=&#34;2022-01-01&#34;
</span></span><span class="line"><span class="cl">                    , date_range_to=&#34;2022-08-31&#34;)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">work_b %&gt;%
</span></span><span class="line"><span class="cl">  tibble() %&gt;%
</span></span><span class="line"><span class="cl">  head(10) %&gt;% View
</span></span></code></pre></div><p>As an enormous amount of data can be retrieved through the <code>get_work()</code> function, it is highly <strong>recommended to test your query on a limited date range</strong> before expanding the date range to comprise multiple months to years.</p>
<p>Note also that we include a chunk of code that lets you inspect the first 10 observations in the data frame created. This allows you to get a feel of the data obtained before diving in deeper. This is how the resulting data frame looks like:</p>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/DefaultOutput_get_work.png" alt="" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>Inspecting this data frame, shows you what the default parameters deliver. Namely, the &ldquo;details&rdquo; about &ldquo;debates&rdquo; in current affairs in &ldquo;plenary&rdquo; sessions for the &ldquo;dates&rdquo; specified. Though, much more is possible!</p>
<p>The <code>get_work()</code> function has the following arguments:</p>
<ul>
<li>date_range_from: the start date YYYY-MM-DD</li>
<li>date_range_to: the end date YYYY-MM-DD</li>
<li>fact: options include &ldquo;written_questions&rdquo;, &ldquo;debates&rdquo;, &ldquo;oral_questions_and_interpellations&rdquo;, &ldquo;parliamentary_initiatives&rdquo;, and &ldquo;council_hearings&rdquo;</li>
<li>type: options include &ldquo;details&rdquo;, &ldquo;speech&rdquo; and &ldquo;documents&rdquo;</li>
<li>plen_comm: choose between plenary &ldquo;plen&rdquo; and commission &ldquo;comm&rdquo; sessions</li>
<li>use_parallel: Boolean of which the default value is set to TRUE, select FALSE in case you do not have multiple workers to speed up the calls made</li>
<li>raw: Boolean of which the default value is set to FALSE, select TRUE in case you wish to retrieve the unprocessed data</li>
<li>extra_via_fact: Boolean of which the default value is set to FALSE, select TRUE in case you wish to retrieve the unique identifiers of documents outside the date range specified but linked to the &ldquo;fact&rdquo;.</li>
</ul>
<p>So let&rsquo;s, for instance, query for some specific type of parliamentary work conducted in 2021. Here, we opt to retrieve data about parliamentary initiatives (<code>fact=&quot;parliamentary_initiatives&quot;</code>) discussed in the plenary (<code>plen_comm=&quot;plen&quot;</code>) sessions (<code>date_range_from=&quot;2021-01-01&quot;</code>and <code>date_range_to=&quot;2021-12-31&quot;</code>). We also specify that we are interested in the <code>type=&quot;details&quot;</code> as this will deliver us a data frame containing the essentials about each parliamentary initiative.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_work &lt;- get_work(date_range_from=&#34;2021-01-01&#34;
</span></span><span class="line"><span class="cl">                    , date_range_to=&#34;2021-12-31&#34;
</span></span><span class="line"><span class="cl">                    , fact=&#34;parliamentary_initiatives&#34;
</span></span><span class="line"><span class="cl">                    , type=&#34;details&#34;
</span></span><span class="line"><span class="cl">                    , plen_comm=&#34;plen&#34;)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_work %&gt;%
</span></span><span class="line"><span class="cl">  tibble() %&gt;%
</span></span><span class="line"><span class="cl">  head(10) %&gt;% View
</span></span></code></pre></div><p>Now we can inspect the data a bit more. Something you can check, for example, is which topics are covered in the parliamentary initiatives at that time. We use some <code>dplyr</code> code, in this case <code>count()</code> to quickly count the unique values in the column <code>result_thema_1</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_work %&gt;% count(result_thema_1, sort = T) -&gt; work_topics
</span></span><span class="line"><span class="cl">work_topics
</span></span></code></pre></div><h3 id="example-2---retrieving-documents-related-to-parliamentary-work">Example 2 - Retrieving <em>documents</em> related to parliamentary work</h3>
<p>Here, we opt to retrieve data about written questions (<code>fact=&quot;written questions&quot;</code>) issued in March 2022 (<code>date_range_from=&quot;2022-03-01&quot;</code>and <code>date_range_to=&quot;2022-03-31&quot;</code>). Importantly, we specify that we are interested in <code>type=&quot;document&quot;</code> as this will deliver us a data frame containing the documents related to each written question in the selection.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">wq_work_doc &lt;- get_work(date_range_from=&#34;2022-03-01&#34;
</span></span><span class="line"><span class="cl">                    , date_range_to=&#34;2022-03-31&#34;
</span></span><span class="line"><span class="cl">                    , fact=&#34;written_questions&#34;
</span></span><span class="line"><span class="cl">                    , type=&#34;document&#34;)  
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">wq_work_doc %&gt;%
</span></span><span class="line"><span class="cl">  tibble::tibble() %&gt;%
</span></span><span class="line"><span class="cl">  head(10) %&gt;% View
</span></span></code></pre></div><p>This call delivers you a data frame with (at least) the following columns:</p>
<ul>
<li>id_fact: unique identifier linking to the specific parliamentary activity the document is associated with (in this example, the written question)</li>
<li>text: each row in this column contains the text contained in the document</li>
</ul>
<p>The data frame can be manipulated further to make it ready for text analysis. First, matching the data frame with the <code>details</code> of its associated written questions is possible via <code>id_fact</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">wq_work &lt;- get_work(date_range_from=&#34;2022-03-01&#34;
</span></span><span class="line"><span class="cl">                    , date_range_to=&#34;2022-03-31&#34;
</span></span><span class="line"><span class="cl">                    , fact=&#34;written_questions&#34;
</span></span><span class="line"><span class="cl">                    , type=&#34;details&#34;)  
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">wq_docs_details &lt;- left_join(wq_work, wq_work_doc, by=c(&#34;id_fact&#34;)) 
</span></span></code></pre></div><p>Another element here is that we can <strong>search</strong> these documents for <strong>specific key words</strong> occurring in one of them. For this, we use the <code>search_terms()</code> function with the following arguments:</p>
<ul>
<li>text_field: fill in the column name of the text field in c(&ldquo;XXX&rdquo;), multiple columns can be specified at once as c(&ldquo;XXX&rdquo;, &ldquo;XXX&rdquo;, &hellip;)</li>
<li>search_terms: fill in the term(s) you want the documents checked for</li>
</ul>
<p>Here, we opt to retrieve data about the PFOS/PFAS debate in Belgium (<code>search_terms = c(&quot;PFOS&quot;, &quot;PFAS&quot;)</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">wq_docs_details %&gt;%
</span></span><span class="line"><span class="cl">  as_tibble() %&gt;%
</span></span><span class="line"><span class="cl">  search_terms(text_field = c(&#34;text&#34;), search_terms = c(&#34;PFOS&#34;, &#34;PFAS&#34;)) -&gt; PFOS
</span></span></code></pre></div><p>Note that to get a good feel of the data, it is often recommended to sort the data frame by <code>id_fact</code> (e.g. when retrieving documents about <code>fact=&quot;parliamentary_initiatives</code>, multiple documents are associated to one initiative). This thus gives you a clearer overview of all documents related to one unique &lsquo;activity&rsquo;.</p>
<h3 id="example-3---retrieving-speech-related-to-parliamentary-work">Example 3 - Retrieving <em>speech</em> related to parliamentary work</h3>
<p>For this example, we opt to retrieve data about oral questions and interpellations (<code>fact=&quot;oral_questions_and_interpellations&quot;</code>) discussed in the committee meetings (<code>plen_comm=&quot;comm&quot;</code>) of March 2022 (<code>date_range_from=&quot;2022-03-01&quot;</code>and <code>date_range_to=&quot;2022-03-31&quot;</code>). Next, we specify that we are interested in the <code>type=&quot;speech&quot;</code> as this will deliver us a data frame containing the &lsquo;speech&rsquo; or spoken word by MPs and ministers related to each oral question in the selection.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">oq_speech &lt;- get_work(date_range_from=&#34;2022-03-01&#34;
</span></span><span class="line"><span class="cl">                    , date_range_to=&#34;2022-03-31&#34;
</span></span><span class="line"><span class="cl">                    , fact=&#34;oral_questions_and_interpellations&#34;
</span></span><span class="line"><span class="cl">                    , type=&#34;speech&#34;
</span></span><span class="line"><span class="cl">                    , plen_comm=&#34;comm&#34;) 
</span></span></code></pre></div><p>This call delivers you a data frame with the following columns:</p>
<ul>
<li>journaallijn_id: the unique identifier for each action-reaction sequence related to the same oral question.</li>
<li>text: each row in this column contains the &lsquo;speech&rsquo; per individual speaker.</li>
<li>sprekertitel: identifies who is speaking.</li>
<li>persoon_id: the unique identifier for each individual.</li>
</ul>
<p>Matching this data frame with the <code>details</code> of these oral questions is possible via the <code>journaallijn_id</code>. Here, we show you how to extract the <code>journaallijn_id</code> from the <code>details</code> data frame through <em>unnesting</em> the column <code>result_procedureverloop</code> and then the column <code>journaallijn</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">oq_details &lt;- get_work(date_range_from=&#34;2022-03-01&#34;
</span></span><span class="line"><span class="cl">                    , date_range_to=&#34;2022-03-31&#34;
</span></span><span class="line"><span class="cl">                    , fact=&#34;oral_questions_and_interpellations&#34;
</span></span><span class="line"><span class="cl">                    , type=&#34;details&#34;
</span></span><span class="line"><span class="cl">                    , plen_comm=&#34;comm&#34;
</span></span><span class="line"><span class="cl">                    , use_parallel=TRUE) 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">oq_details %&gt;% 
</span></span><span class="line"><span class="cl">  unnest(result_procedureverloop) %&gt;% 
</span></span><span class="line"><span class="cl">  unnest_wider(journaallijn, names_sep = &#34;_&#34;) -&gt; oq_details_jln
</span></span></code></pre></div><p>Upon inspection of this data frame, you will notice that the <code>journaallijn_id</code> is not automatically filled in across all rows. To end up again with  non-repeated observations (i.e. unique rows), we filter out those rows <strong>not</strong> containing the <code>journaallijn_id</code>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">oq_details_jln %&gt;%
</span></span><span class="line"><span class="cl">  filter(!is.na(journaallijn_id)) -&gt; oral_questions
</span></span></code></pre></div><p>Now we are ready to join the <code>oral_questions</code>data frame with the <code>mp_oq_speech</code> data frame containing the &lsquo;speech&rsquo; per oral question.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">oq_speech %&gt;% 
</span></span><span class="line"><span class="cl">  mutate(journaallijn_id = as.numeric(journaallijn_id)) -&gt; oq_speech
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">questions_speech &lt;- left_join(oral_questions, oq_speech, by=c(&#34;journaallijn_id&#34;)) 
</span></span></code></pre></div><p>Finally, we can also <strong>search</strong> these spoken words for <strong>specific key words</strong> occurring. We again use the <code>search_terms()</code> function. We opt to retrieve data about the PFOS/PFAS debate in Belgium (<code>search_terms = c(&quot;PFOS&quot;, &quot;PFAS&quot;)</code>).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">questions_speech %&gt;%
</span></span><span class="line"><span class="cl">  as_tibble() %&gt;%
</span></span><span class="line"><span class="cl">  search_terms(text_field = c(&#34;text&#34;), search_terms = c(&#34;PFOS&#34;, &#34;PFAS&#34;)) -&gt; PFAS_oq
</span></span></code></pre></div><h3 id="example-4---advanced-extra-unnesting-of-lists">Example 4 - ADVANCED: Extra unnesting of lists</h3>
<p>Though, as you may have noticed from your first inspection of the data frame, the <code>get_work()</code> function from the get-go confronts you with a couple of <em>nested</em> columns. We will go over several examples to dig up relevant information from these <em>lists in lists</em>. Keep in mind that it is recommended to go step-by-step when going deeper into the lists as it is far too easy to end up with a giant unfitting data frame when combining multiple &lsquo;unnestings&rsquo; at once without knowing the exact content of the data stored within the lists.</p>
<p><strong>1. Topics by type of activity: unnesting of the column <code>result_objecttype</code></strong></p>
<p>Here, we use the <code>pi_work</code> data frame that we created in the first example of this post to demonstrate how to &lsquo;unnest&rsquo; columns.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_work %&gt;%
</span></span><span class="line"><span class="cl">  select(id_fact, result_objecttype, result_thema_1) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(result_objecttype) %&gt;%
</span></span><span class="line"><span class="cl">  select(id_fact, naam, result_thema_1) -&gt; work_type_topics
</span></span><span class="line"><span class="cl">work_type_topics
</span></span></code></pre></div><p>Now we can make a count of the observations by relevant types of activity or visualize the results.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">work_type_topics %&gt;%
</span></span><span class="line"><span class="cl">  filter(naam == &#34;Ontwerp van decreet&#34; 
</span></span><span class="line"><span class="cl">         | naam == &#34;Voorstel van decreet&#34; 
</span></span><span class="line"><span class="cl">         | naam == &#34;Voorstel van resolutie&#34;) -&gt; work_type_topics
</span></span><span class="line"><span class="cl">work_type_topics
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">work_type_topics %&gt;% 
</span></span><span class="line"><span class="cl">  group_by(naam) %&gt;%
</span></span><span class="line"><span class="cl">  count(result_thema_1, sort = T) -&gt; work_type_topics_c
</span></span><span class="line"><span class="cl">work_type_topics_c
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">plot5 &lt;- ggplot(work_type_topics_c, aes(x = reorder(result_thema_1, -n), y = n, fill= naam, colour = naam)) + 
</span></span><span class="line"><span class="cl">  geom_bar(stat = &#34;identity&#34;) +
</span></span><span class="line"><span class="cl">  labs(x=&#34;&#34;, y = &#34;Count&#34;) + 
</span></span><span class="line"><span class="cl">  theme_classic() +
</span></span><span class="line"><span class="cl">  theme(axis.text.x = element_text(angle = 90, vjust=.5, hjust=1)) +
</span></span><span class="line"><span class="cl">  theme(legend.title = element_blank())
</span></span><span class="line"><span class="cl">plot5
</span></span></code></pre></div><p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/plot5.png" alt="" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p><strong>2. Topics by type of activity and party: unnesting of the column <code>result_objecttype</code> &amp; <code>result_contacttype</code></strong></p>
<p>Let&rsquo;s delve even deeper into these <em>lists in lists</em> by building on our knowledge of the <code>pi_work</code> data frame. Here we will unnest columns to assess which MPs from which parties are most active in proposing new legislation and tabling resolutions.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_work %&gt;%
</span></span><span class="line"><span class="cl">  select(id_fact, result_objecttype, result_contacttype) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(result_objecttype, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest(result_contacttype, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest(result_contacttype_contact, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest(result_contacttype_contact_fractie, names_sep = &#34;_&#34;) -&gt; pi_type_party
</span></span><span class="line"><span class="cl">pi_type_party
</span></span></code></pre></div><p>Now we can make a count of the observations by relevant types of activity and party or visualize the results. First, we filter out legislative proposals made by MPs (&lsquo;Voorstel van decreet&rsquo;) and resolutions (&lsquo;Voorstel van resolutie&rsquo;).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_type_party %&gt;%
</span></span><span class="line"><span class="cl">  filter(result_objecttype_naam == &#34;Voorstel van decreet&#34; 
</span></span><span class="line"><span class="cl">         | result_objecttype_naam == &#34;Voorstel van resolutie&#34;) -&gt; pi_type_party_c
</span></span></code></pre></div><p>Next, we group our data by party to arrive at a count. Alternatively, we can plot the results.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_type_party_c %&gt;% 
</span></span><span class="line"><span class="cl">  group_by(result_contacttype_contact_fractie_naam) %&gt;%
</span></span><span class="line"><span class="cl">  count(result_objecttype_naam, sort = T) -&gt; pi_type_party_cc
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">plot6 &lt;- ggplot(pi_type_party_cc, aes(x = reorder(result_contacttype_contact_fractie_naam, -n), y = n, fill = result_objecttype_naam, colour = result_objecttype_naam)) + 
</span></span><span class="line"><span class="cl">  geom_bar(stat =&#34;identity&#34;) +
</span></span><span class="line"><span class="cl">  labs(x=&#34;&#34;, y = &#34;Count&#34;) + 
</span></span><span class="line"><span class="cl">  theme_classic() +
</span></span><span class="line"><span class="cl">  theme(axis.text.x = element_text(angle = 90, vjust=.5, hjust=1)) +
</span></span><span class="line"><span class="cl">  theme(legend.title = element_blank())
</span></span><span class="line"><span class="cl">plot6  
</span></span></code></pre></div><p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="/plot6.png" alt="" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p><strong>3. Voting records: Unnesting of the column <code>result_journaallijn-stemmingen</code></strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">pi_work %&gt;%
</span></span><span class="line"><span class="cl">  select(id_fact, &#39;result_journaallijn-stemmingen&#39;, result_objecttype) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(result_objecttype, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(&#39;result_journaallijn-stemmingen&#39;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_longer(stemming) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(stemming) -&gt; votes
</span></span></code></pre></div><p>One potential observation we can make is whether the MPs of opposition parties vote against &lsquo;ontwerp van decreet&rsquo; (i.e. those legislative proposals stemming from the Flemish government) and whether the MPs of the governing parties systematically vote in favor?
Even more unnesting is needed for this, specifically of the columns <code>stemming-tegen</code>, <code>stemming-voor</code> and <code>fractie</code>. We start we the votes <em>against</em>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes %&gt;%
</span></span><span class="line"><span class="cl">  unnest(&#39;stemming-tegen&#39;, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(&#39;stemming-tegen&#39;, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_longer(&#39;stemming-tegen_persoon&#39;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(&#39;stemming-tegen_persoon&#39;)  %&gt;%
</span></span><span class="line"><span class="cl">  unnest(fractie, names_sep = &#34;_&#34;) -&gt; votes_against
</span></span></code></pre></div><p>We can then assess the average percentage of MPs per party voting <em>against</em> legislative proposals initiated by the government.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_against %&gt;%
</span></span><span class="line"><span class="cl">  select(id_fact, fractie_naam, `fractie_zetel-aantal`, result_objecttype_naam) %&gt;%
</span></span><span class="line"><span class="cl">  group_by(id_fact) %&gt;%
</span></span><span class="line"><span class="cl">  filter(result_objecttype_naam == &#34;Ontwerp van decreet&#34;) %&gt;% 
</span></span><span class="line"><span class="cl">  add_count(fractie_naam) %&gt;% 
</span></span><span class="line"><span class="cl">  rename(&#34;votes_against&#34; = &#34;n&#34;) -&gt; votes_against2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_against2 &lt;- unique(votes_against2) 
</span></span><span class="line"><span class="cl">votes_against2 &lt;- na.omit(votes_against2) 
</span></span></code></pre></div><p>Same procedure for the votes <em>in favor</em>. First, unnesting the relevant columns.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes %&gt;%
</span></span><span class="line"><span class="cl">  unnest(&#39;stemming-voor&#39;, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(&#39;stemming-voor&#39;, names_sep = &#34;_&#34;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_longer(&#39;stemming-voor_persoon&#39;) %&gt;%
</span></span><span class="line"><span class="cl">  unnest_wider(&#39;stemming-voor_persoon&#39;)  %&gt;%
</span></span><span class="line"><span class="cl">  unnest(fractie, names_sep = &#34;_&#34;) -&gt; votes_infavor
</span></span></code></pre></div><p>We can then assess the average percentage of MPs per party voting <em>in favor of</em> legislative proposals initiated by the government.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_infavor %&gt;%
</span></span><span class="line"><span class="cl">  select(id_fact, fractie_naam, `fractie_zetel-aantal`, result_objecttype_naam) %&gt;%
</span></span><span class="line"><span class="cl">  group_by(id_fact) %&gt;%
</span></span><span class="line"><span class="cl">  filter(result_objecttype_naam == &#34;Ontwerp van decreet&#34;) %&gt;% 
</span></span><span class="line"><span class="cl">  add_count(fractie_naam) %&gt;% 
</span></span><span class="line"><span class="cl">  rename(&#34;votes_favor&#34; = &#34;n&#34;) -&gt; votes_infavor2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_infavor2 &lt;- unique(votes_infavor2) 
</span></span><span class="line"><span class="cl">votes_infavor2 &lt;- na.omit(votes_infavor2) 
</span></span></code></pre></div><p>Next, we join the data frames to assess the voting patterns of governing and oppositions parties regarding the legislative proposals initiated by government.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_records &lt;- full_join(votes_against2, votes_infavor2, by=c(&#34;id_fact&#34; = &#34;id_fact&#34;, &#34;fractie_naam&#34; = &#34;fractie_naam&#34;, &#34;fractie_zetel-aantal&#34; = &#34;fractie_zetel-aantal&#34;, &#34;result_objecttype_naam&#34; = &#34;result_objecttype_naam&#34;)) 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">votes_records %&gt;% 
</span></span><span class="line"><span class="cl">  mutate(votes_favor = replace_na(votes_favor, 0)) %&gt;% 
</span></span><span class="line"><span class="cl">  mutate(votes_against = replace_na(votes_against, 0)) -&gt; votes_records2
</span></span></code></pre></div><p>Do the opposition parties mostly vote against and governing parties in favor?</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_records2 %&gt;%
</span></span><span class="line"><span class="cl">  group_by(fractie_naam) %&gt;%
</span></span><span class="line"><span class="cl">  mutate(prop_against = votes_against/`fractie_zetel-aantal`) %&gt;%
</span></span><span class="line"><span class="cl">  summarise(m = mean(prop_against)) %&gt;%
</span></span><span class="line"><span class="cl">  rename(&#34;average prop. against&#34; = &#34;m&#34;, &#34;party&#34; = &#34;fractie_naam&#34; ) -&gt; votes_records_against
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">votes_records2 %&gt;%
</span></span><span class="line"><span class="cl">  group_by(fractie_naam)  %&gt;%
</span></span><span class="line"><span class="cl">  mutate(prop_favor = votes_favor/`fractie_zetel-aantal`) %&gt;%
</span></span><span class="line"><span class="cl">  summarise(m = mean(prop_favor)) %&gt;%
</span></span><span class="line"><span class="cl">  rename(&#34;average prop. favor&#34; = &#34;m&#34;, &#34;party&#34; = &#34;fractie_naam&#34; ) -&gt; votes_records_infavor
</span></span></code></pre></div>
    </div>

    






  

<p class="edit-page">
  <a href="https://github.com/%3cusername%3e/%3crepository%3e/edit/main/content/post%5c2022_09_27_post%5cindex.md">
    <i class="fas fa-pen pr-2"></i>Edit this page
  </a>
</p>






<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/2022_09_27_post/&amp;text=flempar_parliamentary%20work" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/2022_09_27_post/&amp;t=flempar_parliamentary%20work" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=flempar_parliamentary%20work&amp;body=/post/2022_09_27_post/" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/2022_09_27_post/&amp;title=flempar_parliamentary%20work" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=flempar_parliamentary%20work%20/post/2022_09_27_post/" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/2022_09_27_post/&amp;title=flempar_parliamentary%20work" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    




  










<div class="article-widget">
  
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/post/2022_09_28_post/" rel="next">Flempar the extra&#39;s</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/post/2022_09_26_post/" rel="prev">flempar_members of parliament</a>
  </div>
  
</div>

</div>




  
  




  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  

  

  

  
  






  




  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a> — the free, <a href="https://github.com/wowchemy/wowchemy-hugo-themes" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.d26509351aa0ff874abbee824e982e9b.js"></script>




  

  
  

  













  
  <script id="search-hit-fuse-template" type="text/x-template">
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script>
  
    <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
  












  
  
  
  
  
  
  







<script id="page-data" type="application/json">{"use_headroom":true}</script>



  <script src="/js/wowchemy-headroom.c251366b4128fd5e6b046d4c97a62a51.js" type="module"></script>








  
  


<script src="/en/js/wowchemy.min.54dd6e4d8f2e4b1d098381b57f18dd83.js"></script>























</body>
</html>
